<!DOCTYPE html>
<html lang="">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--<link rel="icon" href="<%= BASE_URL %>favicon.ico">-->
    <link rel="icon" href="/favicon.ico" />
    <title>ACM</title>
    <link rel="stylesheet" 
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
          integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk"
          crossorigin="anonymous">
  </head>
  <body>
    <div id="app">
      <header>
        <nav className="navbar navbar-default navbar-dark bg-dark">
          <nav>
            <Link >Monitor</Link>
            <Link >IO</Link>
          </nav>
        </nav>
      </header>
      <div class="container">
        <div class="col-lg-6 offset-lg-3">
          <div v-if="ready">

          </div>

          <div v-if="!ready">
            
          </div>
          <h2 v-else>{{ test }}</h2>
        </div>
      </div>
    </div>
    <script src="/socket.io/socket.io.js"></script>
    <script src="http://unpkg.com/vue@next"></script>

    <script>
      const socket = io();
      const { createApp, ref, watch, reactive, watchEffect } = Vue;

      const App = {
        name: "App",

        data() {
          socket.on("connections", (data) => {
            connections.value = data;
            console.log(data);
          });

          socket.on("socketStaticSystemData", data => {
            this.staticSystemData = data;
            console.log(data);
          });
          
          socket.on("socketDynamicSystemData", data => {
            this.dynamicSystemData = data;
            console.log(data);
          });
          
          socket.on("socketAnalogValues", data => {
            this.analogSensorValues = data;
            console.log(data);
          });

          return {
            staticSystemData: {},
            dynamicSystemData: {},
            analogSensorValues: {},
            test: "Hello",
            ready: true,
          };
        },
      };

      createApp(App).mount("#app");
    </script>
    <!-- built files will be auto injected -->
  </body>
</html>